apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ .Release.Name }}-config
data:
  PAPERMERGE__AUTH__OIDC_CLIENT_ID: {{ .Values.app.auth__oidc_client_id | quote }}
  PAPERMERGE__AUTH__OIDC_AUTHORIZE_URL: {{ .Values.app.auth__oidc_authorize_url | quote }}
  PAPERMERGE__AUTH__OIDC_ACCESS_TOKEN_URL: {{ .Values.app.auth__oidc_access_token_url | quote }}
  PAPERMERGE__AUTH__OIDC_LOGOUT_URL: {{ .Values.app.auth__logout_url | quote }}
  PAPERMERGE__AUTH__OIDC_REDIRECT_URL: {{ .Values.app.auth__oidc_redirect_url | quote }}
  PUBLIC_KEY: {{ .Values.app.public_key_path | quote }}
  HOME_URL: {{ .Values.app.home_url | quote }}
  PAPERMERGE__MAIN__MEDIA_ROOT: {{ .Values.app.main__media_root | quote }}
  PAPERMERGE__MAIN__LOGGING_CFG: {{ .Values.app.main__logging_cfg | quote }}
  PAPERMERGE__REDIS__URL: {{ .Values.app.redis__url | quote }}
  UVICORN_WORKERS: {{ .Values.app.uvicorn_workers | quote }}
  {{- if .Values.app.search.enabled }}
  PAPERMERGE__SEARCH__URL: {{ .Values.app.search.url | quote }}
  {{- end }}
